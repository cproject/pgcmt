<script type='text/javascript' src='http://code.jquery.com/jquery-1.8.2.js'></script>
<script type="text/javascript">

 $(function() {
      var form = $("#createProjectForm");
      form.submit(function(e) {
          $("#sendButton").attr('disabled', true)
          $("#sendButton").css('background', 'gray')
          $("#sendButton").val('waiting')
          $("#createProjectForm").load(
              form.attr('action') + ' #createProjectForm',
              form.serializeArray(),
              function(responseText, responseStatus) {
                  $("#sendButton").attr('disabled', false)
                  $("#sendButton").css('background', '#00386b')
                  if(responseText==1)
                  {
                    $("#status").fadeIn(1).html('<div id="basarili"> <div class="baslik"> Başarıyla Eklendi.</div></div>').fadeOut(2000);
                    $("#id_name,#id_description").val(null);
                  }
                  else
                    $("#status").fadeIn(1).html('<div id="hata"> <div class="baslik"> Hata oluştu.</div> </div>').fadeOut(2000);
                  $("#sendButton").val('Create')

              }
          );
          e.preventDefault(); 
      });
  });
</script>

{% extends "base.html" %}  

{% block content %}
<h1>Create Project</h1>
<table class="create_form">

    <form action="/create/project_ajax/" method="post" id="createProjectForm">{% csrf_token %}
    {{ form.as_table }}
    <tr>
        <td> </td>
        <td> <input type="submit" value="Create" id="sendButton" style="width:200px;height:30px"/> </td>
    </tr>
    <tr>
        <td></td>
        <td><div id="status" style=""> </div></td>
    </tr>
    </form>
  
</table>
{% endblock %}